# psqlDumpAnalyzer
Данная программа использует [DLL для создания файла дампа](https://github.com/oreshkin75/CreateRAMDumpDLL)
- Анализ дампов PostgreSQL
- Работает только в ОС Windows
- Программа позволяет сделать дамп текущего процесса psql и прочитать его содержимое
- Также есть возможность поиска данных выполненного запроса

Конфигурация осщуествляется через веб-интерфейс (также есть возможность настройки через .env файл, который указывается первым аргументом программы)
### Архитектура
![изображение](https://user-images.githubusercontent.com/40633594/162026371-bd9d7a4f-c5df-47a8-a694-ecdb2ab68321.png)

### Модуль Configs
Данный модуль отвечает за чтение конфигурационного файла. Конфигурационный файл должен быть заполнен в формате переменных окружения (.env) и путь к файлу передается в виде первого аргумента командной строки программы. Также есть возможность запуска программы без указания пути к файлу. 
Модуль читает переменные окружения из файла и задает их, как переменных окружения для программы. Если какая-нибудь строка необходимая для работы программы не задана в файле, то будет использоваться значение по умолчанию (для каждой строки оно свое). Если путь до файла не был указан, то все значения будут выставлены по умолчанию (в графическом интерфейсе будет возможность поменять некоторые из них)
Файл конфигурации включает в себя:
•	DLL_PATH: путь до DLL для создания дампа
•	DUMP_DIRECTORY: путь до директории, куда будут сохраняться полученные дамп файлы
•	PROCESS_NAME: имя процесса, дамп которого нужно создать (в курсовой работе postgres.exe)
•	FUNCTION_NAME: имя функции, которая создает дамп в DLL
•	LOG_INFO: файл лога сообщений, не содержащих ошибок (может быть задан stdout)
•	LOG_ERROR: файл лога сообщений, содержащий ошибки (может быть задан stdout)
•	PSQL_PORT: порт, который использует запущенный процесс PSQL
•	PSQL_IP: ip адрес, который использует запущенный процесс PSQL (может быть localhost)
•	PSQL_USER: имя пользователя PSQL, от которого могут выполняться запросы
•	PSQL_PASSWORD: пароль пользователя
•	PSQL_DBNAME: имя базы данных PSQL, в которой могут выполняться запросы
•	HTML_MAIN_PAGE: путь до главной страницы графического веб-интерфейса. Все страницы используют путь по умолчанию, если не был указан файл конфигурации. Для данной страницы - ./web/templates/mainPage.html
•	HTML_CONFIGURE_PAGE: путь до страницы конфигурации. Все страницы используют путь по умолчанию, если не был указан файл конфигурации. Для данной страницы - ./web/templates/configurePage.html
•	HTML_ERROR_PAGE: путь до страницы ошибки. Все страницы используют путь по умолчанию, если не был указан файл конфигурации. Для данной страницы - ./web/templates/errorPage.html
•	HTML_DUMP_PAGE: путь до страницы просмотра дампа. Все страницы используют путь по умолчанию, если не был указан файл конфигурации. Для данной страницы - ./web/templates/dumpPage.html

